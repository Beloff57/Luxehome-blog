<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luxwhome - article</title>
    <link rel="stylesheet" href="styles/style.css">
</head>
<body>
    <div class="article-block1">
            <div class="article-meta">
    <div class="teg-article2">
        <img src="images/at-icon1.svg" alt="" class="at-icon1">
        <p>Дизайн</p>
    </div>
    <div class="article-meta-info">
      <time class="article-date-2" datetime="2026-01-20">20.01.26</time>
        <img src="images/views-icon-2.svg" alt="" class="views-icon-2">
      <span class="article-views-2">218</span>
    
    </div>
    <div class="teg-article">6 мин</div>
  </div>
  <div class="article-zag">
    <h1>Как выбрать шторы, чтобы смотрелись дорого, а не “Как у всех”</h1>
  </div>
  <div class="article-hero">
    <img src="images/f-as1.svg" alt="" class="art-hero-img">
  </div>
  <div class="article-podzag">
    <h2>Как выбрать текстиль правильно Как выбрать текстиль правильно <span>Как выбрать текстиль</span> правильно</h2>
  </div>
  <div class="article-content">
    <p>Эта утонченная коллекция сочетает в себе изысканные геометрические формы хрусталя с легким металлическим каркасом, создавая потрясающую композицию в стиле современной элегантности. Эта утонченная коллекция сочетает в себе изысканные геометрические формы хрусталя с легким металлическим каркасом, создавая потрясающую композицию в стиле современной элегантности. Эта утонченная коллекция сочетает в себе изысканные геометрические формы хрусталя с легким металлическим каркасом, создавая потрясающую композицию в стиле современной элегантности.</p>
  </div>
  <div class="article-citata">
    <p>Эта утонченная коллекция сочетает в себе изысканные геометрические формы хрусталя с легким металлическим каркасом, создавая потряса</p>
  </div>
    <div class="article-podzag">
    <h2>Как выбрать текстиль правильно Как выбрать текстиль правильно <span>Как выбрать текстиль</span> правильно</h2>
  </div>
  <div class="article-content">
    <p>Эта утонченная коллекция сочетает в себе изысканные геометрические формы хрусталя с легким металлическим каркасом, создавая потрясающую композицию в стиле современной элегантности. Эта утонченная коллекция сочетает в себе изысканные геометрические формы хрусталя с легким металлическим каркасом, создавая потрясающую композицию в стиле современной элегантности. Эта утонченная коллекция сочетает в себе изысканные геометрические формы хрусталя с легким металлическим каркасом, создавая потрясающую композицию в стиле современной элегантности.</p>
  </div>
  <div class="article-foto-content1">
    <img src="images/f-as1.svg" alt="" class="afc-img1">
  </div>
  <div class="afc-podpis">
    Фотография — Richard Clark / Getty Images
  </div>
    <div class="article-content">
    <p>Эта утонченная коллекция сочетает в себе изысканные геометрические формы хрусталя с легким металлическим каркасом, создавая потрясающую композицию в стиле современной элегантности. Эта утонченная коллекция сочетает в себе изысканные геометрические формы хрусталя с легким металлическим каркасом, создавая потрясающую композицию в стиле современной элегантности. Эта утонченная коллекция сочетает в себе изысканные геометрические формы хрусталя с легким металлическим каркасом, создавая потрясающую композицию в стиле современной элегантности.</p>
  </div>
  <div class="article-autor-block" data-author-id="123">

  <div class="aab-autor">
    <img src="images/art-autor1.svg" alt="" class="aab-autor-foto">
  </div>

  <div class="autor-name">
    <h3>Елена Дмитриева</h3>
    <p>Дизайнер интерьера</p>
  </div>

  <!-- НОВОЕ: правая зона (как на скрине) -->
  <div class="lh-author-actions">

    <!-- Форма (встроена, открывается по клику на кнопку) -->
    <form class="lh-subscribe-inline" autocomplete="on" novalidate hidden>
      <div class="lh-subscribe-field">
        <input
          class="lh-subscribe-input"
          type="email"
          name="email"
          placeholder="Введите email"
          autocomplete="email"
          required
        />
        <span class="lh-subscribe-underline" aria-hidden="true"></span>
      </div>

      <div class="lh-subscribe-hint">
        Подписываясь вы соглашаетесь с нашей
        <a class="lh-policy-link" href="/politika-konfidencialnosti/">политикой</a>
      </div>

      <div class="lh-subscribe-error" aria-live="polite"></div>
    </form>

    <!-- ТВОЯ КНОПКА (не ломаем анимацию) -->
    <button type="button" class="zag-action-1 js-subscribe-btn">
      <div class="zag-text-wrap">
        <span class="zag-text js-subscribe-label">Подписаться</span>
      </div>
      <div class="zag-bl2-wrap">
        <img src="images/Arrow 75.svg" alt="" class="arrow arrow-1">
        <img src="images/Arrow 75inv.svg" alt="" class="arrow arrow-2">
      </div>
    </button>

  </div>
</div>

<!-- МОДАЛКА УСПЕХА -->
<div class="lh-modal" hidden>
  <div class="lh-modal__backdrop"></div>
  <div class="lh-modal__dialog" role="dialog" aria-modal="true">
    <div class="lh-modal__text">Вы успешно подписаны на наши новинки</div>
    <button type="button" class="lh-modal__close">Закрыть</button>
  </div>
</div>
  <div class="aab-bottom">
    <div class="article-actions">
  <button class="action-btn like-btn" data-post-id="123">
    <span class="icon like-icon"></span>
    <span class="like-count">133</span>
  </button>
  <button class="action-btn share-btn">
    <span>Поделиться</span>
    <span class="icon share-icon"></span>
  </button>
</div>
<div class="aabb-tegs">
    <span>Дизайн интерьера</span>
    <span>Шторы</span>
    <span>Карнизы</span>
</div>
  </div>
  </div>
  <div class="ab1-line">
    <span class="ab1-h-grow left"></span>
    <span class="ab1-h-grow right"></span>
  </div>
    <div class="g-article">
       <div class="article-zag-2">
    <h1>Похожие статьи</h1>
          <div class="zag-action-1">
         <div class="zag-text-wrap">
          <span class="zag-text">Все статьи</span>
         </div>
         <div class="zag-bl2-wrap">
    <img src="images/Arrow 75.svg" alt="" class="arrow arrow-1">
    <img src="images/Arrow 75inv.svg" alt="" class="arrow arrow-2">
        </div>
      </div>
  </div>
  <div class="ac-line-1 ac-art-line">
        <span class="ac-h-grow left"></span>
        <span class="ac-h-grow right"></span>
      </div>
  <div class="g-art-content">
    <div class="bb-vertical-line-2"></div>
    <div class="bb-vertical-line-s2"></div>
    <div class="g-art-st1">
      <div class="g-art-text">
        <div class="teg-article-3">6 мин</div>
        <h2 class="g-art-zag">Как выбрать текстиль правильно</h2>
        <p class="g-art-opis">Рассказываем как сделать выбор элементов интерьера простым и говорим о важных нюансах</p>
      </div>
      <div class="g-art-foto">
        <img src="images/st-bb1.svg" alt="" class="bb-st1">
      </div>
    </div>
    <div class="g-art-st1">
      <div class="g-art-text">
        <div class="teg-article-3">5 мин</div>
        <h2 class="g-art-zag">Как выбрать текстиль правильно</h2>
        <p class="g-art-opis">Рассказываем как сделать выбор элементов интерьера простым и говорим о важных нюансах</p>
      </div>
      <div class="g-art-foto">
        <img src="images/st-bb2.svg" alt="" class="bb-st1">
      </div>
    </div>
  </div>
  </div>
<script>
document.addEventListener('click', async (e) => {
  const btn = e.target.closest('.like-btn');
  if (!btn) return;

  const postId = btn.dataset.postId;
  const key = `lh_liked_${postId}`;

  // уже лайкал с этого браузера
  if (localStorage.getItem(key) === '1') return;

  try {
    const res = await fetch(LH_AJAX.ajax_url, {
      method: 'POST',
      headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8' },
      body: new URLSearchParams({
        action: 'lh_like',
        post_id: postId,
        nonce: LH_AJAX.nonce
      })
    });

    const data = await res.json();
    if (!data.success) return;

    btn.querySelector('.like-count').textContent = data.data.likes;
    localStorage.setItem(key, '1');
    btn.classList.add('is-liked');

  } catch (err) {
    console.error(err);
  }
});

</script>
<script>
(() => {
  const artLine = document.querySelector('.ac-line-1.ac-art-line');
  if (!artLine) return;

  const artLeft = artLine.querySelector('.ac-h-grow.left');
  const artRight = artLine.querySelector('.ac-h-grow.right');
  const artVertical = document.querySelector('.bb-vertical-line-s2');

  if (!artLeft || !artRight || !artVertical) return;

  function update() {
    const rect = artLine.getBoundingClientRect();
    const windowH = window.innerHeight;

    const start = windowH * 0.8;
    const end = windowH * 0.35;

    let progress = (start - rect.top) / (start - end);
    progress = Math.min(Math.max(progress, 0), 1);

    /* 1) ГОРИЗОНТАЛЬ (0 → 0.5) */
    const hProgress = Math.min(progress / 0.5, 1);
    const hWidth = hProgress * 50;

    artLeft.style.width = hWidth + '%';
    artRight.style.width = hWidth + '%';

    /* 2) ВЕРТИКАЛЬ (0.5 → 1) */
    if (progress > 0.5) {
      const vProgress = (progress - 0.5) / 0.5;
      artVertical.style.height = (vProgress * 110) + '%';
    } else {
      artVertical.style.height = '0%';
    }
  }

  // первый расчет (если блок уже в зоне видимости)
  update();

  // через rAF, чтобы не дергать DOM слишком часто
  let ticking = false;
  window.addEventListener('scroll', () => {
    if (!ticking) {
      window.requestAnimationFrame(() => {
        update();
        ticking = false;
      });
      ticking = true;
    }
  }, { passive: true });

  window.addEventListener('resize', update);
})();
</script>
<script>
(() => {
  const line = document.querySelector('.ab1-line');
  if (!line) return;

  const left = line.querySelector('.ab1-h-grow.left');
  const right = line.querySelector('.ab1-h-grow.right');
  if (!left || !right) return;

  function update() {
    const rect = line.getBoundingClientRect();
    const windowH = window.innerHeight;

    const start = windowH * 0.8;
    const end   = windowH * 0.35;

    let progress = (start - rect.top) / (start - end);
    progress = Math.min(Math.max(progress, 0), 1);

    // Только горизонталь: 0 → 50% слева и 0 → 50% справа
    const width = progress * 50;

    left.style.width = width + '%';
    right.style.width = width + '%';
  }

  update();

  let ticking = false;
  window.addEventListener('scroll', () => {
    if (!ticking) {
      requestAnimationFrame(() => {
        update();
        ticking = false;
      });
      ticking = true;
    }
  }, { passive: true });

  window.addEventListener('resize', update);
})();
</script>
<script>
document.addEventListener('DOMContentLoaded', () => {

  const actionBtn  = document.querySelector('.js-subscribe-btn') || document.querySelector('.zag-action-1');
  const textEl     = actionBtn?.querySelector('.js-subscribe-label') || actionBtn?.querySelector('.zag-text');

  const form       = document.querySelector('.lh-subscribe-inline');
  const input      = document.querySelector('.lh-subscribe-input');
  const errorBox   = document.querySelector('.lh-subscribe-error');

  if (!actionBtn || !form || !input) return;

  let formOpened = false;
  let subscribed = false;

  function isValidEmail(email) {
    return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
  }

  function showForm() {
    form.classList.add('is-open');
    formOpened = true;
    if (errorBox) errorBox.textContent = '';
    setTimeout(() => input.focus(), 0);
  }

  function hideForm() {
    form.classList.remove('is-open');
    formOpened = false;
    if (errorBox) errorBox.textContent = '';
  }

  // === ЛЕНИВЫЙ ПОИСК МОДАЛКИ (находим в момент показа)
  function getModalEls() {
    const modal = document.querySelector('.lh-modal');
    if (!modal) return null;

    return {
      modal,
      close: modal.querySelector('.lh-modal__close'),
      bg: modal.querySelector('.lh-modal__backdrop'),
    };
  }

  function showModal() {
    const els = getModalEls();
    if (!els) {
      console.warn('lh-modal not found in DOM');
      return;
    }
    els.modal.hidden = false;
  }

  function hideModal() {
    const els = getModalEls();
    if (!els) return;
    els.modal.hidden = true;
  }

  function bindModalCloseOnce() {
    const els = getModalEls();
    if (!els) return;

    // чтобы не навесить 100 обработчиков
    if (els.modal.dataset.bound === '1') return;
    els.modal.dataset.bound = '1';

    els.close && els.close.addEventListener('click', hideModal);
    els.bg && els.bg.addEventListener('click', hideModal);
  }

  function setSubscribedState() {
    subscribed = true;
    if (textEl) textEl.textContent = 'Отписаться';
    hideForm();
  }

  function setUnsubscribedState() {
    subscribed = false;
    if (textEl) textEl.textContent = 'Подписаться';
    hideForm();
  }

  // init
  hideForm();
  bindModalCloseOnce(); // если модалка уже есть — повесим закрытие

  actionBtn.addEventListener('click', (e) => {
    e.preventDefault();

    // ОТПИСКА
    if (subscribed) {
      setUnsubscribedState();
      return;
    }

    // 1-й клик — показать форму
    if (!formOpened) {
      showForm();
      return;
    }

    // 2-й клик — отправка
    const email = input.value.trim();

    if (!email) {
      if (errorBox) errorBox.textContent = 'Введите email';
      return;
    }
    if (!isValidEmail(email)) {
      if (errorBox) errorBox.textContent = 'Некорректный email';
      return;
    }

    if (errorBox) errorBox.textContent = '';

    // имитация успешной подписки (потом заменим на AJAX WP)
    setTimeout(() => {
      setSubscribedState();

      // модалка
      bindModalCloseOnce();
      showModal();

      input.value = '';
    }, 150);
  });

});

</script>
</body>
</html>