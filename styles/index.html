<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luxehome - articles</title>
    <link rel="stylesheet" href="styles/style.css">
</head>
<body>
    <div class="articles-zag">
        <h1>Все статьи</h1>
        <p class="art-kol">28 статей</p>
        <button class="articles-sort-btn" type="button">
    Сортировать
  </button>
    </div>
    <div class="art-category">
        <h2 class="ac-zag">Популярные темы</h2>
        <div class="art-nav">
            <span>Дизайн интерьера (12)</span>
            <span>Шторы (14)</span>
            <span>Карнизы (9)</span>
            <span>Римские шторы (3)</span>
            <span>Рулонные шторы (3)</span>
            <span>Электрокарнизы (4)</span>
            <span>Инновации (2)</span>
        </div>
    </div>
      <div class="ac-line-1 ac-art-line">
        <span class="ac-h-grow left"></span>
        <span class="ac-h-grow right"></span>
      </div>
  <div class="article-content">
    <div class="ac-vertical-line-1"></div>
    <div class="ac-vertical-line-s1" data-vmax="22.94vw"></div>
    <div class="article-st1">
      <div class="article-text">
        <div class="article-meta">
    <div class="teg-article">6 мин</div>
    <div class="article-meta-info">
        <img src="images/views-icon.svg" alt="" class="views-icon">
      <span class="article-views">218</span>
      <time class="article-date" datetime="2026-01-20">20.01.26</time>
    </div>
  </div>
        <h3 class="article-zag">Как выбрать текстиль правильно</h3>
        <p class="article-opis">Рассказываем как сделать выбор элементов интерьера простым и говорим о важных нюансах</p>
      </div>
      <div class="article-foto">
        <img src="images/sp1.svg" alt="" class="ac-st1">
      </div>
    </div>
    <div class="article-st1">
      <div class="article-text">
        <div class="article-meta">
    <div class="teg-article">6 мин</div>
    <div class="article-meta-info">
        <img src="images/views-icon.svg" alt="" class="views-icon">
      <span class="article-views">218</span>
      <time class="article-date" datetime="2026-01-20">20.01.26</time>
    </div>
  </div>
        <h3 class="article-zag">Как выбрать текстиль правильно</h3>
        <p class="article-opis">Рассказываем как сделать выбор элементов интерьера простым и говорим о важных нюансах</p>
      </div>
      <div class="article-foto">
        <img src="images/sp2.svg" alt="" class="ac-st1">
      </div>
    </div>
  </div>
      <div class="ac-line-1 ac-art-line-2">
        <span class="ac-h-grow left"></span>
        <span class="ac-h-grow right"></span>
      </div>
  <div class="article-content">
    <div class="ac-vertical-line-2"></div>
    <div class="ac-vertical-line-s2" 22.94vw></div>
    <div class="article-st1">
      <div class="article-text">
        <div class="article-meta">
    <div class="teg-article">6 мин</div>
    <div class="article-meta-info">
        <img src="images/views-icon.svg" alt="" class="views-icon">
      <span class="article-views">218</span>
      <time class="article-date" datetime="2026-01-20">20.01.26</time>
    </div>
  </div>
        <h3 class="article-zag">Как выбрать текстиль правильно</h3>
        <p class="article-opis">Рассказываем как сделать выбор элементов интерьера простым и говорим о важных нюансах</p>
      </div>
      <div class="article-foto">
        <img src="images/sp1.svg" alt="" class="ac-st1">
      </div>
    </div>
    <div class="article-st1">
      <div class="article-text">
        <div class="article-meta">
    <div class="teg-article">6 мин</div>
    <div class="article-meta-info">
        <img src="images/views-icon.svg" alt="" class="views-icon">
      <span class="article-views">218</span>
      <time class="article-date" datetime="2026-01-20">20.01.26</time>
    </div>
  </div>
        <h3 class="article-zag">Как выбрать текстиль правильно</h3>
        <p class="article-opis">Рассказываем как сделать выбор элементов интерьера простым и говорим о важных нюансах</p>
      </div>
      <div class="article-foto">
        <img src="images/sp2.svg" alt="" class="ac-st1">
      </div>
    </div>
  </div>
        <div class="ac-line-1 ac-art-line-2">
        <span class="ac-h-grow left"></span>
        <span class="ac-h-grow right"></span>
      </div>
  <div class="article-content-2">
    <div class="article-st2">
      <div class="article-text">
        <div class="article-meta">
    <div class="teg-article2">
        <img src="images/at-icon1.svg" alt="">
        <p>Дизайн</p>
    </div>
    <div class="article-meta-info">
        <img src="images/views-icon-2.svg" alt="" class="views-icon-2">
      <span class="article-views-2">218</span>
      <time class="article-date-2" datetime="2026-01-20">20.01.26</time>
    </div>
  </div>
        <h3 class="article-zag-2">Как выбрать текстиль правильно как выбрать текстиль правильно</h3>
        <p class="article-opis-2">Рассказываем как сделать выбор элементов интерьера простым и говорим о важных нюансах</p>
      </div>
      <div class="article-foto">
        <img src="images/sp3-b.svg" alt="" class="ac-st2">
      </div>
    </div>
  </div>
        <div class="ac-line-1 ac-art-line-2">
        <span class="ac-h-grow left"></span>
        <span class="ac-h-grow right"></span>
      </div>
  <div class="article-content">
    <div class="ac-vertical-line-2"></div>
    <div class="ac-vertical-line-s2" 22.94vw></div>
    <div class="article-st1">
      <div class="article-text">
        <div class="article-meta">
    <div class="teg-article">6 мин</div>
    <div class="article-meta-info">
        <img src="images/views-icon.svg" alt="" class="views-icon">
      <span class="article-views">218</span>
      <time class="article-date" datetime="2026-01-20">20.01.26</time>
    </div>
  </div>
        <h3 class="article-zag">Как выбрать текстиль правильно</h3>
        <p class="article-opis">Рассказываем как сделать выбор элементов интерьера простым и говорим о важных нюансах</p>
      </div>
      <div class="article-foto">
        <img src="images/sp1.svg" alt="" class="ac-st1">
      </div>
    </div>
    <div class="article-st1">
      <div class="article-text">
                <div class="article-meta">
    <div class="teg-article">6 мин</div>
    <div class="article-meta-info">
        <img src="images/views-icon.svg" alt="" class="views-icon">
      <span class="article-views">218</span>
      <time class="article-date" datetime="2026-01-20">20.01.26</time>
    </div>
  </div>
        <h3 class="article-zag">Как выбрать текстиль правильно</h3>
        <p class="article-opis">Рассказываем как сделать выбор элементов интерьера простым и говорим о важных нюансах</p>
      </div>
      <div class="article-foto">
        <img src="images/sp2.svg" alt="" class="ac-st1">
      </div>
    </div>
  </div>
<script>
(function () {
  const clamp01 = (v) => Math.max(0, Math.min(1, v));
  const lerp = (cur, target, k) => cur + (target - cur) * k;

  // ===== НАСТРОЙКИ =====
  const MEET_X = 49.25;   // точка встречи горизонталей (%)
  const INERTIA = 0.09;   // 0.08..0.18
  const EPS_H = 0.12;     // snap ширины (%)
  const EPS_V = 0.002;    // snap вертикали (0..1)

  function getNextContentBlock(lineEl) {
    let n = lineEl.nextElementSibling;
    while (n) {
      if (n.classList.contains('article-content') || n.classList.contains('article-content-2')) {
        return n;
      }
      n = n.nextElementSibling;
    }
    return null;
  }

  const lineEls = Array.from(document.querySelectorAll('.ac-art-line, .ac-art-line-2'));

  const items = lineEls.map((lineEl) => {
    const left = lineEl.querySelector('.ac-h-grow.left');
    const right = lineEl.querySelector('.ac-h-grow.right');

    const content = getNextContentBlock(lineEl);

    const vertical = content
      ? content.querySelector('.ac-vertical-line-s1, .ac-vertical-line-s2')
      : null;

    return {
      lineEl, left, right, vertical,
      curL: 0, curR: 0,
      curV: 0,          // 0..1
      tarL: 0, tarR: 0,
      tarV: 0           // 0..1
    };
  }).filter(x => x.left && x.right);

  if (!items.length) return;

  let raf = null;

  function computeTargets() {
    const windowH = window.innerHeight;

    for (const it of items) {
      const rect = it.lineEl.getBoundingClientRect();

      const start = windowH * 0.8;
      const end   = windowH * 0.35;
      const denom = (start - end) || 1;

      let progress = (start - rect.top) / denom;
      progress = clamp01(progress);

      /* ---------- ГОРИЗОНТАЛИ ---------- */
      const hProgress = Math.min(progress / 0.5, 1);
      it.tarL = hProgress * MEET_X;
      it.tarR = hProgress * (100 - MEET_X);

      /* ---------- ВЕРТИКАЛЬ ---------- */
      if (it.vertical) {
        if (progress > 0.5) {
          it.tarV = clamp01((progress - 0.5) / 0.5);
        } else {
          it.tarV = 0;
        }
      }
    }

    if (!raf) raf = requestAnimationFrame(tick);
  }

  function tick() {
    let anyMoving = false;

    for (const it of items) {
      /* ---------- ГОРИЗОНТАЛИ ---------- */
      it.curL = lerp(it.curL, it.tarL, INERTIA);
      it.curR = lerp(it.curR, it.tarR, INERTIA);

      if (Math.abs(it.curL - it.tarL) < EPS_H) it.curL = it.tarL;
      if (Math.abs(it.curR - it.tarR) < EPS_H) it.curR = it.tarR;

      it.left.style.width  = it.curL + '%';
      it.right.style.width = it.curR + '%';

      /* ---------- ВЕРТИКАЛЬ ---------- */
      if (it.vertical) {
        it.curV = lerp(it.curV, it.tarV, INERTIA);
        if (Math.abs(it.curV - it.tarV) < EPS_V) it.curV = it.tarV;

        const vmax = it.vertical.dataset.vmax || '100%';
        it.vertical.style.height = `calc(${it.curV} * ${vmax})`;

        if (it.curV !== it.tarV) anyMoving = true;
      }

      if (it.curL !== it.tarL || it.curR !== it.tarR) anyMoving = true;
    }

    raf = anyMoving ? requestAnimationFrame(tick) : null;
  }

  window.addEventListener('scroll', computeTargets, { passive: true });
  window.addEventListener('resize', computeTargets);

  computeTargets();
})();
</script>

</body>
</html>